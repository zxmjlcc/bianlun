<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¾©è®ºèµ›ï¼šç§‘æŠ€çš„å‘å±•</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        body {
            margin: 0;
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            background-color: #e0f2f7; /* æ·¡è“è‰²èƒŒæ™¯ */
            color: #333;
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡ */
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- é¡µé¢å®¹å™¨ --- */
        .page {
            display: none; /* é»˜è®¤éšè—æ‰€æœ‰é¡µé¢ */
            flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 20px;
            box-sizing: border-box; /* åŒ…å«å†…è¾¹è· */
            position: relative; /* ç”¨äºç»å¯¹å®šä½å­å…ƒç´  */
            overflow-y: auto; /* å¦‚æœå†…å®¹è¿‡å¤šå…è®¸æ»šåŠ¨ */
        }

        .page.active {
            display: flex; /* æ˜¾ç¤ºæ´»åŠ¨é¡µé¢ */
        }

        /* --- ä¸»é¡µé¢æ ·å¼ --- */
        #main-page {
            background: linear-gradient(135deg, #b3e5fc 0%, #81d4fa 100%); /* è“è‰²æ¸å˜èƒŒæ™¯ */
        }

        #title-container {
            perspective: 800px; /* åˆ›å»º3Dç©ºé—´ */
            margin-bottom: 20px; /* å‡å°‘æ ‡é¢˜å®¹å™¨å’Œä¸‹æ–¹å†…å®¹çš„è·ç¦» */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #debate-title {
            font-size: 4.5vw; /* ä½¿ç”¨è§†å£å®½åº¦å•ä½ */
            font-weight: bold;
            color: #01579b; /* æ·±è“è‰² */
            line-height: 1.4;
            text-align: center;
            transform-style: preserve-3d;
            transform: rotateX(15deg) rotateY(-5deg); /* è½»å¾®å€¾æ–œ */
            text-shadow:
                1px 1px 0px #ccc,
                2px 2px 0px #bbb,
                3px 3px 0px #aaa,
                4px 4px 0px #999,
                5px 5px 5px rgba(0, 0, 0, 0.4);
            padding: 10px; /* ç¨å¾®å‡å°‘å†…è¾¹è· */
            margin-bottom: 10px; /* ä¸»æ ‡é¢˜å’Œå‰¯æ ‡é¢˜é—´è· */
            transition: transform 0.5s ease;
        }
         #debate-title:hover {
             transform: rotateX(10deg) rotateY(0deg) scale(1.02);
         }

        .title-line {
            display: block; /* æ¯è¡Œåˆ†å¼€ */
        }

        #pro-part {
            color: #e53935; /* çº¢è‰² */
        }

        #con-part {
            color: #1e88e5; /* è“è‰² */
        }

        /* --- å‰¯æ ‡é¢˜æ ·å¼ --- */
        #subtitle {
            font-size: 1.5vw;
            color: #0277bd;
            margin-top: 0;
            margin-bottom: 30px; /* å‰¯æ ‡é¢˜å’Œè§‚ç‚¹é—´è· */
            font-weight: normal;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* --- å¯¹å†³è§‚ç‚¹æ ·å¼ --- */
        #viewpoints {
            display: flex;
            justify-content: center; /* ä¸­å¿ƒå¯¹é½ */
            align-items: center;    /* å‚ç›´å±…ä¸­ */
            width: 90%;
            max-width: 900px;
            margin-bottom: 40px; /* è§‚ç‚¹å’ŒæŒ‰é’®é—´è· */
        }

        .viewpoint {
            font-weight: bold;
            font-size: 1.8vw;
            padding: 15px 25px; /* å¢åŠ å†…è¾¹è· */
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.5); /* åŠé€æ˜èƒŒæ™¯ */
            box-shadow: 1px 1px 4px rgba(0,0,0,0.1);
            flex: 1; /* å æ®ç©ºé—´ */
            margin: 0 10px; /* ä¸ VS åˆ†éš”ç¬¦çš„é—´è· */
            min-width: 150px; /* æœ€å°å®½åº¦ */
        }
        .pro-viewpoint { /* æ­£æ–¹ç‰¹å®šæ ·å¼ */
             border-left: 5px solid #e53935;
             color: #b71c1c; /* æ›´æ·±çš„çº¢è‰² */
        }
         .con-viewpoint { /* åæ–¹ç‰¹å®šæ ·å¼ */
             border-right: 5px solid #1e88e5;
             color: #0d47a1; /* æ›´æ·±çš„è“è‰² */
         }

        .vs-separator {
            font-size: 3.5vw; /* æ”¾å¤§ VS */
            font-weight: bold;
            color: #01579b; /* æ·±è“è‰² */
            padding: 0 15px; /* å¢åŠ å·¦å³é—´è· */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }


        #goto-timer-btn {
            /* margin-top: 40px; */ /* é—´è·ç”± viewpoints æ§åˆ¶ */
            padding: 12px 25px;
            font-size: 1.5vw;
            cursor: pointer;
            background-color: #0288d1;
            color: white;
            border: none;
            border-radius: 5px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease;
        }
         #goto-timer-btn:hover {
             background-color: #0277bd;
         }


        /* --- è®¡æ—¶é¡µé¢æ ·å¼ (ä¿æŒä¸å˜) --- */
         #timer-page { /* ... (ä¸ä¸Šä¸€ç‰ˆæœ¬ç›¸åŒ) ... */
            background-color: #f0f8ff;
            justify-content: space-between;
         }
        #timer-content { /* ... */
            display: flex; flex-direction: column; align-items: center; justify-content: center; flex-grow: 1; width: 100%;
        }
         #single-timer-area { /* ... */
            display: flex; flex-direction: column; align-items: center; width: 100%;
         }
         #dual-timer-area { display: none; /* ... (ä¸ä¸Šä¸€ç‰ˆæœ¬ç›¸åŒ) ... */
             display: flex; flex-direction: row; justify-content: space-around; align-items: flex-start; width: 90%; max-width: 1000px; margin-top: 20px;
         }
        #timer-display { /* ... */
            font-size: 10vw; font-weight: bold; color: #333; margin-bottom: 30px; font-family: 'Courier New', Courier, monospace; background-color: #fff; padding: 20px 40px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); min-width: 300px; text-align: center;
        }
        #timer-controls button, .dual-timer-controls button { /* ... */
             padding: 10px 20px; font-size: 1.2em; margin: 0 10px; cursor: pointer; border: none; border-radius: 5px; transition: background-color 0.3s ease, box-shadow 0.3s ease; box-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        .start-pause-btn { /* ... */
             background-color: #4CAF50; color: white;
        } .start-pause-btn:hover { background-color: #45a049; box-shadow: 2px 2px 5px rgba(0,0,0,0.2); }
        .start-pause-btn.paused { background-color: #ff9800; }
        .start-pause-btn.paused:hover { background-color: #fb8c00; }
        .reset-btn { /* ... */
            background-color: #f44336; color: white;
        } .reset-btn:hover { background-color: #e53935; box-shadow: 2px 2px 5px rgba(0,0,0,0.2); }
        .dual-timer-block { /* ... */
             display: flex; flex-direction: column; align-items: center; background-color: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); margin: 0 10px; flex: 1; min-width: 250px;
         }
         .dual-timer-block h3 { /* ... */ margin-top: 0; margin-bottom: 15px; font-size: 1.5em; color: #0277bd; }
        .dual-timer-display { /* ... */ font-size: 6vw; font-weight: bold; color: #333; margin-bottom: 20px; font-family: 'Courier New', Courier, monospace; background-color: #f8f9fa; padding: 10px 20px; border-radius: 8px; min-width: 200px; text-align: center; }
        .dual-timer-controls { /* ... */ margin-top: 10px; }
         #reset-btn-container { /* ... */ margin-top: 30px; width: 100%; text-align: center; }
        #phase-nav { /* ... (ä¸ä¸Šä¸€ç‰ˆæœ¬ç›¸åŒ) ... */
            position: sticky; bottom: 0; left: 0; width: 100%; background-color: #0277bd; padding: 10px 0; box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1); display: flex; justify-content: space-around; align-items: center; z-index: 100; box-sizing: border-box;
        }
        #phase-nav button { /* ... */ padding: 8px 15px; font-size: 1em; cursor: pointer; background-color: #e1f5fe; color: #01579b; border: 1px solid #81d4fa; border-radius: 20px; transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease; margin: 0 5px; }
        #phase-nav button:hover { background-color: #b3e5fc; transform: translateY(-2px); }
        #phase-nav button.active-phase { background-color: #01579b; color: white; font-weight: bold; border-color: #01579b; }
         #goto-main-btn { /* ... */ background-color: transparent; border: none; color: white; font-size: 1.2em; cursor: pointer; padding: 0 15px; transition: color 0.3s ease; }
         #goto-main-btn:hover { color: #e1f5fe; }

         /* --- è¾©è®ºå¼€å§‹åŠ¨ç”»æ ·å¼ --- */
        #animation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Start semi-transparent black */
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 9999; /* Ensure it's on top */
            opacity: 0; /* Start fully transparent for fade-in */
        }
        #animation-overlay.animate {
             display: flex; /* Show it */
             animation: overlayAnimate 2s forwards ease-in-out; /* Total animation */
        }
        #animation-text {
            font-size: 8vw; /* Large text */
            font-weight: bold;
            color: white;
            text-align: center;
            text-shadow: 2px 2px 5px rgba(255, 69, 0, 0.8), /* Orange glow */
                         0 0 15px rgba(255, 165, 0, 0.7);
            opacity: 0; /* Start hidden */
            transform: scale(0.5) rotate(-5deg); /* Start small and slightly rotated */
        }
        #animation-overlay.animate #animation-text {
             animation: textAnimate 1.8s 0.1s forwards ease-out; /* Text animation, delayed slightly */
        }

        /* åŠ¨ç”» Keyframes */
        @keyframes overlayAnimate {
            0% { opacity: 0; background-color: rgba(255, 255, 255, 0); } /* Start transparent */
            10% { opacity: 1; background-color: rgba(255, 255, 255, 0.9); } /* Quick flash to white */
            25% { opacity: 1; background-color: rgba(0, 0, 0, 0.8); } /* Fade to dark overlay */
            80% { opacity: 1; background-color: rgba(0, 0, 0, 0.8); } /* Hold dark overlay */
            100% { opacity: 0; background-color: rgba(0, 0, 0, 0); } /* Fade out overlay */
        }

        @keyframes textAnimate {
            0% { opacity: 0; transform: scale(0.5) rotate(-5deg); }
            30% { opacity: 1; transform: scale(1.1) rotate(3deg); } /* Overshoot slightly */
            50% { opacity: 1; transform: scale(1) rotate(0deg); } /* Settle */
            80% { opacity: 1; transform: scale(1) rotate(0deg); } /* Hold text */
            100% { opacity: 0; transform: scale(0.8) rotate(5deg); } /* Fade out text */
        }


         /* å“åº”å¼è°ƒæ•´ */
         @media (max-width: 768px) {
             #debate-title { font-size: 6vw; }
             #subtitle { font-size: 2vw; margin-bottom: 25px;}
             .viewpoint { font-size: 2.5vw; padding: 10px 15px; }
             .vs-separator { font-size: 5vw; }
             #goto-timer-btn { font-size: 3vw; }
             #animation-text { font-size: 12vw; }

             #timer-display { font-size: 15vw; min-width: 250px; }
             .dual-timer-display { font-size: 10vw; min-width: 150px; }
             #dual-timer-area { flex-direction: column; align-items: center; width: 100%; }
             .dual-timer-block { width: 80%; margin-bottom: 20px; min-width: auto; }
             #phase-nav button { font-size: 0.9em; padding: 6px 10px; }
         }
         @media (max-width: 480px) {
              #debate-title { font-size: 8vw; transform: rotateX(5deg) rotateY(0deg); text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4); }
              #subtitle { font-size: 3vw; margin-bottom: 20px;}
              #viewpoints { flex-direction: column; /* Stack viewpoints on smallest screens */ margin-bottom: 30px;}
             .viewpoint { font-size: 4vw; width: 80%; margin: 5px 0; } /* Adjust width and margin for column layout */
             .pro-viewpoint { border-left-width: 4px; border-right: none;}
             .con-viewpoint { border-right-width: 4px; border-left: none;}
             .vs-separator { font-size: 8vw; padding: 10px 0; } /* VS between stacked blocks */
             #goto-timer-btn { font-size: 4vw; }
             #animation-text { font-size: 15vw; }

             #timer-display { font-size: 18vw; padding: 15px 20px; min-width: auto; width: 80%; }
             .dual-timer-display { font-size: 12vw; padding: 8px 15px; min-width: auto; width: 70%;}
             .dual-timer-block { width: 90%; }
             .dual-timer-controls button { font-size: 1em; padding: 8px 15px; }
             #timer-controls button { font-size: 1em; padding: 8px 15px; }
             #phase-nav { padding: 8px 0; }
             #phase-nav button { font-size: 0.8em; padding: 5px 8px; margin: 0 2px; }
         }

    </style>
</head>
<body>

    <div id="main-page" class="page active">
        <div id="title-container">
            <h1 id="debate-title">
                <span class="title-line">ç§‘æŠ€çš„å‘å±•</span>
                <span class="title-line">æ˜¯<span id="pro-part">åˆ©å¤§äºå¼Š</span></span>
                <span class="title-line">è¿˜æ˜¯<span id="con-part">å¼Šå¤§äºåˆ©</span></span>
            </h1>
             <p id="subtitle">å…­ï¼ˆ7ï¼‰ç­è¾©è®ºèµ› | 2025å¹´ | ç§‘æŠ€å‘å±•ä¸»é¢˜</p>
        </div>
        <div id="viewpoints">
            <div class="viewpoint pro-viewpoint">æ­£æ–¹ï¼šåˆ©å¤§äºå¼Š</div>
            <span class="vs-separator">VS</span>
            <div class="viewpoint con-viewpoint">åæ–¹ï¼šå¼Šå¤§äºåˆ©</div>
        </div>
        <button id="goto-timer-btn">è¿›å…¥è®¡æ—¶</button>
    </div>

    <div id="timer-page" class="page">
        <div id="timer-content">
            <div id="single-timer-area">
                <div id="timer-display">00:00</div>
                <div id="timer-controls">
                    <button id="start-pause-btn" class="start-pause-btn">å¼€å§‹</button>
                    </div>
            </div>

            <div id="dual-timer-area">
                <div class="dual-timer-block" id="pro-timer-block">
                    <h3>æ­£æ–¹è®¡æ—¶</h3>
                    <div class="dual-timer-display" id="pro-timer-display">00:00</div>
                    <div class="dual-timer-controls">
                        <button id="pro-start-pause-btn" class="start-pause-btn">å¼€å§‹</button>
                    </div>
                </div>
                <div class="dual-timer-block" id="con-timer-block">
                    <h3>åæ–¹è®¡æ—¶</h3>
                    <div class="dual-timer-display" id="con-timer-display">00:00</div>
                    <div class="dual-timer-controls">
                        <button id="con-start-pause-btn" class="start-pause-btn">å¼€å§‹</button>
                    </div>
                </div>
            </div>

             <div id="reset-btn-container">
                 <button id="reset-btn" class="reset-btn">å¤ä½</button>
            </div>
        </div>

        <div id="phase-nav">
             <button id="goto-main-btn" title="è¿”å›ä¸»é¡µ">ğŸ </button>
            <button class="phase-btn" data-time="120" data-phase="ç«‹è®º">ç«‹è®º (2:00)</button>
            <button class="phase-btn" data-time="120" data-phase="é™ˆè¯">é™ˆè¯ (2:00)</button>
            <button class="phase-btn" data-time="300" data-phase="è‡ªç”±è¾©">è‡ªç”±è¾© (5:00)</button>
            <button class="phase-btn" data-time="180" data-phase="ç»“è¾©">ç»“è¾© (3:00)</button>
        </div>
    </div>

    <div id="animation-overlay">
        <div id="animation-text">è¾©è®ºå¼€å§‹!</div>
    </div>

    <script>
        // --- DOM å…ƒç´ è·å– (Add Animation Overlay) ---
        const mainPage = document.getElementById('main-page');
        const timerPage = document.getElementById('timer-page');
        const gotoTimerBtn = document.getElementById('goto-timer-btn');
        const gotoMainBtn = document.getElementById('goto-main-btn');
        const animationOverlay = document.getElementById('animation-overlay'); // Get overlay

        // --- Timer elements (same as before) ---
        const singleTimerArea = document.getElementById('single-timer-area');
        const timerDisplay = document.getElementById('timer-display');
        const startPauseBtn = document.getElementById('start-pause-btn');
        const dualTimerArea = document.getElementById('dual-timer-area');
        const proTimerDisplay = document.getElementById('pro-timer-display');
        const proStartPauseBtn = document.getElementById('pro-start-pause-btn');
        const conTimerDisplay = document.getElementById('con-timer-display');
        const conStartPauseBtn = document.getElementById('con-start-pause-btn');
        const resetBtn = document.getElementById('reset-btn');
        const phaseButtons = document.querySelectorAll('.phase-btn');

        // --- è®¡æ—¶å™¨çŠ¶æ€å˜é‡ (same as before) ---
        let timerInterval = null, totalSeconds = 0, secondsLeft = 0, isPaused = false;
        let proTimerInterval = null, proTotalSeconds = 0, proSecondsLeft = 0, isProPaused = false;
        let conTimerInterval = null, conTotalSeconds = 0, conSecondsLeft = 0, isConPaused = false;
        let currentPhaseButton = null, currentPhaseType = 'single';

        // --- é¡µé¢åˆ‡æ¢é€»è¾‘ ---
        function showPage(pageToShow) {
            mainPage.classList.remove('active');
            timerPage.classList.remove('active');
            pageToShow.classList.add('active');
             // Ensure overlay is hidden when switching back to main
            if(pageToShow === mainPage) {
                animationOverlay.style.display = 'none';
                animationOverlay.classList.remove('animate');
            }
        }

        // --- MODIFIED: Event Listener for "è¿›å…¥è®¡æ—¶" Button ---
        gotoTimerBtn.addEventListener('click', () => {
            // 1. Show and Animate Overlay
            animationOverlay.style.display = 'flex'; // Make it visible first
            animationOverlay.classList.add('animate');

            // 2. Set Timeout to Switch Page after animation (adjust time based on CSS)
            // Animation total duration is 2s
            setTimeout(() => {
                showPage(timerPage); // Switch to timer page
                // Reset overlay for next potential use (optional, but good practice)
                animationOverlay.style.display = 'none';
                animationOverlay.classList.remove('animate');
            }, 2000); // 2000ms = 2s (matches animation duration)
        });

        // --- Event Listener for "è¿”å›ä¸»é¡µ" Button ---
        gotoMainBtn.addEventListener('click', () => {
             stopAllTimers();
             showPage(mainPage);
        });

        // --- è®¡æ—¶å™¨æ ¸å¿ƒåŠŸèƒ½ (Functions formatTime, updateDisplay, stopSingleTimer, startPauseSingleTimer, stopProTimer, stopConTimer, startPauseProTimer, startPauseConTimer, stopAllTimers, resetTimer, setPhase remain THE SAME as the previous version) ---
        function formatTime(seconds) { /* ... same ... */
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
        }
        function updateDisplay(displayElement, seconds) { /* ... same ... */
            displayElement.textContent = formatTime(seconds);
            if (seconds <= 10 && seconds > 0) { displayElement.style.color = '#e53935'; }
            else if (seconds > 0) { displayElement.style.color = '#333'; }
            if (seconds <= 0) { displayElement.textContent = "æ—¶é—´åˆ°!"; displayElement.style.color = '#e53935'; }
        }
        function stopSingleTimer() { /* ... same ... */
            clearInterval(timerInterval); timerInterval = null; isPaused = false; startPauseBtn.textContent = 'å¼€å§‹'; startPauseBtn.classList.remove('paused'); if(secondsLeft <= 0) updateDisplay(timerDisplay, 0);
        }
        function startPauseSingleTimer() { /* ... same ... */
             if (timerInterval) { clearInterval(timerInterval); timerInterval = null; isPaused = true; startPauseBtn.textContent = 'ç»§ç»­'; startPauseBtn.classList.add('paused'); }
             else if (secondsLeft > 0) { isPaused = false; startPauseBtn.textContent = 'æš‚åœ'; startPauseBtn.classList.remove('paused'); if(timerDisplay.style.color === 'rgb(229, 57, 53)') timerDisplay.style.color = '#333'; timerInterval = setInterval(() => { if (secondsLeft > 0) { secondsLeft--; updateDisplay(timerDisplay, secondsLeft); } else { stopSingleTimer(); } }, 1000); }
        }
        function stopProTimer() { /* ... same ... */
             clearInterval(proTimerInterval); proTimerInterval = null; isProPaused = false; proStartPauseBtn.textContent = 'å¼€å§‹'; proStartPauseBtn.classList.remove('paused'); if(proSecondsLeft <= 0) updateDisplay(proTimerDisplay, 0);
        }
        function stopConTimer() { /* ... same ... */
             clearInterval(conTimerInterval); conTimerInterval = null; isConPaused = false; conStartPauseBtn.textContent = 'å¼€å§‹'; conStartPauseBtn.classList.remove('paused'); if(conSecondsLeft <= 0) updateDisplay(conTimerDisplay, 0);
        }
        function startPauseProTimer() { /* ... same ... */
             if (proTimerInterval) { clearInterval(proTimerInterval); proTimerInterval = null; isProPaused = true; proStartPauseBtn.textContent = 'ç»§ç»­'; proStartPauseBtn.classList.add('paused'); }
             else if (proSecondsLeft > 0) { isProPaused = false; proStartPauseBtn.textContent = 'æš‚åœ'; proStartPauseBtn.classList.remove('paused'); if(proTimerDisplay.style.color === 'rgb(229, 57, 53)') proTimerDisplay.style.color = '#333'; proTimerInterval = setInterval(() => { if (proSecondsLeft > 0) { proSecondsLeft--; updateDisplay(proTimerDisplay, proSecondsLeft); } else { stopProTimer(); } }, 1000); }
        }
        function startPauseConTimer() { /* ... same ... */
            if (conTimerInterval) { clearInterval(conTimerInterval); conTimerInterval = null; isConPaused = true; conStartPauseBtn.textContent = 'ç»§ç»­'; conStartPauseBtn.classList.add('paused'); }
            else if (conSecondsLeft > 0) { isConPaused = false; conStartPauseBtn.textContent = 'æš‚åœ'; conStartPauseBtn.classList.remove('paused'); if(conTimerDisplay.style.color === 'rgb(229, 57, 53)') conTimerDisplay.style.color = '#333'; conTimerInterval = setInterval(() => { if (conSecondsLeft > 0) { conSecondsLeft--; updateDisplay(conTimerDisplay, conSecondsLeft); } else { stopConTimer(); } }, 1000); }
        }
        function stopAllTimers() { /* ... same ... */ stopSingleTimer(); stopProTimer(); stopConTimer(); }
        function resetTimer() { /* ... same ... */
            stopAllTimers(); if (currentPhaseType === 'single') { secondsLeft = totalSeconds; updateDisplay(timerDisplay, secondsLeft); } else if (currentPhaseType === 'dual') { proSecondsLeft = proTotalSeconds; conSecondsLeft = conTotalSeconds; updateDisplay(proTimerDisplay, proSecondsLeft); updateDisplay(conTimerDisplay, conSecondsLeft); } timerDisplay.style.color = '#333'; proTimerDisplay.style.color = '#333'; conTimerDisplay.style.color = '#333';
        }
        function setPhase(button, time, phaseName) { /* ... same ... */
            stopAllTimers(); const phaseTime = parseInt(time, 10); if (phaseName === 'è‡ªç”±è¾©') { currentPhaseType = 'dual'; singleTimerArea.style.display = 'none'; dualTimerArea.style.display = 'flex'; proTotalSeconds = phaseTime; conTotalSeconds = phaseTime; proSecondsLeft = proTotalSeconds; conSecondsLeft = conTotalSeconds; updateDisplay(proTimerDisplay, proSecondsLeft); updateDisplay(conTimerDisplay, conSecondsLeft); proTimerDisplay.style.color = '#333'; conTimerDisplay.style.color = '#333'; } else { currentPhaseType = 'single'; singleTimerArea.style.display = 'flex'; dualTimerArea.style.display = 'none'; totalSeconds = phaseTime; secondsLeft = totalSeconds; updateDisplay(timerDisplay, secondsLeft); timerDisplay.style.color = '#333'; } if (currentPhaseButton) { currentPhaseButton.classList.remove('active-phase'); } button.classList.add('active-phase'); currentPhaseButton = button;
        }

        // --- äº‹ä»¶ç›‘å¬å™¨ç»‘å®š (Start/Pause/Reset/Phase buttons - same as before) ---
        startPauseBtn.addEventListener('click', startPauseSingleTimer);
        proStartPauseBtn.addEventListener('click', startPauseProTimer);
        conStartPauseBtn.addEventListener('click', startPauseConTimer);
        resetBtn.addEventListener('click', resetTimer);
        phaseButtons.forEach(button => {
            button.addEventListener('click', () => {
                setPhase(button, button.dataset.time, button.dataset.phase);
            });
        });

        // --- åˆå§‹åŒ– (same as before) ---
        if (phaseButtons.length > 0) { const firstButton = phaseButtons[0]; setPhase(firstButton, firstButton.dataset.time, firstButton.dataset.phase); }
        else { totalSeconds = 0; secondsLeft = 0; updateDisplay(timerDisplay, 0); singleTimerArea.style.display = 'flex'; dualTimerArea.style.display = 'none'; currentPhaseType = 'single'; }
        showPage(mainPage); // Initial page display

    </script>

</body>
</html>
